確保済みのメモリ空間は適切に解放されてから例外が投げられる